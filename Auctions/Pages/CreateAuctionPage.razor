@page "/auction/create"

<EditForm Model=Auction OnValidSubmit=OnValid>
    <DataAnnotationsValidator />
    <ValidationSummary />

    @if (Auction != null)
    {
        <AuctionComponent Auction=Auction />
    }
</EditForm>


@code {
    Auction Auction { get; set; }

    protected async override Task OnInitializedAsync()
    {
        Auction = new Auction()
            {
                Categories = new List<AuctionCategorie>(),
                Images = new List<AuctionImage>()
    };
    }

    async Task OnValid()
    {
        await _repository.CreateAsync(Auction);
    }
}
